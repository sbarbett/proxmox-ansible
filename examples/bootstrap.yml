---
# Install dependencies for the Ansible playbook
- name: Bootstrap dependencies
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
    - name: Install required Python libraries
      ansible.builtin.pip:
        name:
          - proxmoxer
          - requests
          - passlib
        state: present

    - name: Upgrade community.general collection
      ansible.builtin.command: ansible-galaxy collection install community.general --upgrade
      changed_when: false

    - name: Install required Ansible Galaxy role (geerlingguy.docker)
      ansible.builtin.command: ansible-galaxy role install geerlingguy.docker
      changed_when: false
